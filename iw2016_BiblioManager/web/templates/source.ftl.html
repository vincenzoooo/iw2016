<div class="container">
    <div class="pageSource">
        <div class="section section-pageSource-title"> 
            <div class="row">
                <div class="col-lg-12">
                     <h1 class="center">Gestione delle risorse</h1>
                </div>
            </div>
        </div>
        
        <div class="section section-pageSource-insertSource">
            <div class="row">
                <div class="col-lg-12">   
                    <h3> Aggiungi una nuova risorsa</h3>
                    <form method="post" action="source" id="formSource" class="form-horizontal">     
                        <div class="form-group">
                            <label for="inputSourceType" class="col-sm-2 control-label bold">Tipo</label>
                            <div class="col-sm-6">
                                <input id="inputSourceType" class="form-control" name="sourceType" placeholder="Inserisci il tipo" />
                            </div>
                        </div>
                        <#if errorType??>
                        <div class="error">
                            ${errorType?html}
                        </div>
                        </#if>

                        <div class="form-group">
                            <label for="inputSourceUri" class="col-sm-2 control-label bold">Indirizzo risorsa</label>
                            <div class="col-sm-6">
                                <input id="inputSourceUri" class="form-control" name="sourceUri" placeholder="Inserisci indirizzo risorsa" />
                            </div>
                        </div>
                        <#if errorUri??>
                        <div class="error">
                            ${errorUri?html}
                        </div>
                        </#if>

                        <div class="form-group">
                            <label for="inputSourceFormat" class="col-sm-2 control-label bold">Formato</label>
                            <div class="col-sm-6">
                                <input id="inputSourceFormat" class="form-control" name="sourceFormat" placeholder="Inserisci il formato" />
                            </div>
                        </div>
                        <#if errorFormat??>
                        <div class="error">
                            ${errorFormat?html}
                        </div>
                        </#if>

                        <div class="form-group">
                            <label for="inputSourceDescription" class="col-sm-2 control-label bold">Descrizione</label>
                            <div class="col-sm-6">
                                <textarea id="inputSourceDescription" class="form-control" name="sourceDescription" rows="4" placeholder="Inserisci una descrizione"></textarea>
                            </div>
                        </div>
                        <#if errorDescription??>
                        <div class="error">    
                            ${errorDescription?html}    
                        </div>
                        </#if>

                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <span>
                                    <input value="Aggiungi" name="submitSource" type="submit" class="btn btn-default"/>
                                    <a href="publication" class="btn btn-default col-xs-offset-1" name="submitPublication">Torna indietro</a>
                                </span>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="section section-pageSource-listSources">
             <div class="row">
                <div class="col-lg-12">
                    <h3> Lista delle risorse</h3>
                    <form method="post" action="source" id="formSelectedSource" class="form-horizontal">
                        <#if (sources?? && sources?size>0)>
                        <table id="allSources" class="table table-responsive">
                            <tr>
                                <th>
                                    Tipo
                                </th>
                                <th class="hidden-xs">
                                    URI
                                </th>
                                <th class="smallhidden">
                                    Formato
                                </th>
                                <th class="smallhidden">
                                    Descrizione
                                </th>
                                <th class="col-edit hidden-xs">
                                    Gestisci
                                </th>

                            </tr>
                            <#list sources as item>
                            <tr>
                                <td>
                                    ${strip_slashes(item.type)!"''"?html}
                                </td>
                                <td class="hidden-xs">
                                    ${strip_slashes(item.uri)!"''"?html}
                                </td>
                                <td class="smallhidden">
                                    ${strip_slashes(item.format)!"''"?html}
                                </td>
                                <td class="smallhidden hidden-xs">
                                    ${strip_slashes(item.description)!"''"?html}
                                </td>
                                <td>
                                    <a href="source?sourceId=${item.key}&currentTypeSource=${item.type}&currentUriSource=${item.uri}&currentFormatSource=${item.format}&currentDescriptionSource=${item.description}#anchor">Modifica</a>
                                </td>

                            </tr>
                            </#list>

                        </table>
                        <#else>
                        <span class="bold">Nessuna parola chiave presente.</span>
                        </#if>
                    </form>
                </div>
            </div>
        </div>
        
        <#if sourceId??>
        <a name="anchor"></a>
        <div class="section section-pageSource-editSources">
            <div class="row">
                <div class="col-lg-12">   
                    <h3> Modifica risorsa</h3>
                    <form method="post" action="source" id="formSourceUpdate" class="form-horizontal">     
                        <div class="form-group">
                            <label for="updateSourceType" class="col-sm-2 control-label bold">Tipo</label>
                            <div class="col-sm-6">
                                <input name="sourceId" value="${keywordId!''?html}" type="hidden"/>
                                <input id="updateSourceType" class="form-control" name="sourceType" value="${currentTypeSource!''?html}" placeholder="Modifica il tipo" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateSourceUri" class="col-sm-2 control-label bold">Indirizzo risorsa</label>
                            <div class="col-sm-6">
                                <input id="updateSourceUri" class="form-control" name="sourceUri" value="${currentUriSource!''?html}" placeholder="Modifica l'uri" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateSourceFormat" class="col-sm-2 control-label bold">Formato</label>
                            <div class="col-sm-6">
                                <input id="updateSourceFormat" class="form-control" name="sourceFormat" value="${currentFormatSource!''?html}" placeholder="Modifica il formato" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateSourceDescription" class="col-sm-2 control-label bold">Descrizione</label>
                            <div class="col-sm-6">
                                <input id="updateSourceDescription" class="form-control" name="sourceDescription" value="${currentDescriptionSource!''?html}" placeholder="Modifica la descrizione" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <span>
                                    <input value="Aggiorna" name='submitSource' type="submit" class="btn btn-default"/>
                                </span>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </#if>
    </div>
</div>